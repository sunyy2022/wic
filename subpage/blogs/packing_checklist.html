<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <!-- Updated Meta Info -->
        <meta name="description" content="The ultimate packing checklist for your trip to China, covering essential documents, clothing, toiletries, electronics, and more." />
        <meta name="author" content="Wander in China" />
        <title>The Ultimate Packing Checklist for Your Trip to China - Wander in China</title>
        <!-- Favicon (Correct relative path from subpage/blogs/ to root) -->
        <link rel="icon" type="image/png" href="../../assets/img/favicon.png" sizes="32x32" />
        <!-- Bootstrap icons (CDN link, no change needed) -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet" />
        <!-- Core theme CSS (Correct relative path) -->
        <link href="../../css/styles.css" rel="stylesheet" />
    </head>
    <body class="d-flex flex-column h-100">
        <main class="flex-shrink-0">
            <!-- 页头占位符 -->
            <div id="header-placeholder"></div>

            <!-- 页面内容 -->
            <!-- Blog Post Content Section -->
            <section class="py-5">
                <div class="container px-5 my-5">
                    <!-- Removed justify-content-center from the row -->
                    <div class="row gx-5">
                        <!-- Changed main content column width to col-lg-9 -->
                        <div class="col-lg-9">
                            <!-- Post Title -->
                            <h1 class="fw-bolder mb-4">The Ultimate Packing Checklist For Your Trip to China</h1>

                            <!-- Post Content -->
                            <article>
                                <p class="fs-5 mb-4">Packing efficiently and comprehensively is key to a smooth and enjoyable trip to China. This checklist covers essential items to ensure you're well-prepared for your adventure.</p>

                                <!-- Image: Packing Checklist -->
                                <figure class="my-5 text-center">
                                    <img class="img-fluid rounded w-75" src="../../assets/img/packing_checklist.jpg" alt="Suitcase with clothes and travel items" />
                                    <figcaption class="mt-2 text-center text-muted small">Pack smart for a smooth journey</figcaption>
                                </figure>

                                <!-- Section: Essential Documents -->
                                <h2 class="fw-bolder mt-5 mb-3">Essential Documents</h2>
                                <ul class="list-unstyled mb-4 fs-5">
                                    <li class="mb-3"><strong class="d-block mb-1">Passport:</strong> Verify that your passport has at least six months of validity remaining beyond your planned return date. Make several photocopies and store them separately from your original passport. In the event of loss or theft, these copies can significantly expedite the replacement process.</li>
                                    <li class="mb-3"><strong class="d-block mb-1">Visa:</strong> Obtain the appropriate Chinese visa well in advance of your travel dates. Different visa types, such as tourist (L-type), business (M-type), or student (X-type), have specific application requirements. Keep your visa information readily accessible and understand the terms regarding your permitted length of stay and any entry restrictions.</li>
                                    <li><strong class="d-block mb-1">Travel Itinerary:</strong> Print out a detailed copy of your travel itinerary, including flight schedules, hotel confirmations, and details of any pre-booked tours. This can be helpful for immigration officials to understand the purpose of your visit and serves as a useful reference for you during your trip.</li>
                                </ul>

                                <!-- Section: Clothing -->
                                <h2 class="fw-bolder mt-5 mb-3">Clothing</h2>
                                <!-- Subsection: Season-Appropriate Attire -->
                                <h3 class="fw-bolder mt-4 mb-3">Season-Appropriate Attire</h3>
                                <ul class="list-unstyled mb-4 fs-5">
                                    <li class="mb-3"><strong class="d-block mb-1">Winter:</strong> If traveling to northern China during the winter months, pack a heavy down jacket, thermal base layers, woolen hats, gloves, and scarves. Temperatures can plummet well below freezing, particularly in cities like Harbin.</li>
                                    <li><strong class="d-block mb-1">Summer:</strong> Summers in southern China are typically hot and humid. Pack lightweight, breathable clothing made from cotton or linen. Don't forget a light raincoat or umbrella, as the rainy season can bring frequent showers.</li>
                                </ul>
                                <!-- Image: Winter Clothes -->
                                <figure class="my-5 text-center">
                                    <img class="img-fluid rounded w-75" src="../../assets/img/winter_clothes.jpg" alt="Warm winter clothing like jackets, hats, and gloves" />
                                    <figcaption class="mt-2 text-center text-muted small">Pack warm layers for winter travel in northern China</figcaption>
                                </figure>
                                <!-- Subsection: Comfortable Shoes -->
                                <h3 class="fw-bolder mt-4 mb-3">Comfortable Shoes</h3>
                                <p class="fs-5 mb-4">You'll likely be doing a significant amount of walking, whether you're exploring the Great Wall, wandering through historic alleyways, or browsing local markets. A comfortable pair of walking shoes or sneakers is essential. Consider also packing a pair of slip-on shoes, which can be convenient for visiting temples or other places where you may need to remove your footwear.</p>

                                <!-- Section: Toiletries and Personal Items -->
                                <h2 class="fw-bolder mt-5 mb-3">Toiletries and Personal Items</h2>
                                <ul class="list-unstyled mb-4 fs-5">
                                    <li class="mb-3"><strong class="d-block mb-1">Toiletries:</strong> While most hotels in China provide basic toiletries such as shampoo, conditioner, soap, and toothpaste, it's advisable to bring your own toothbrush and any specialized skincare or haircare products you regularly use. Travel-sized deodorant and a comb or brush are also necessary.</li>
                                    <li class="mb-3"><strong class="d-block mb-1">Towel:</strong> Although hotels supply towels, a compact, quick-drying travel towel can be useful, especially for visits to beaches or hot springs, or if you simply prefer having an extra towel during your travels.</li>
                                    <li><strong class="d-block mb-1">Sunscreen and Sunglasses:</strong> Protect your skin and eyes from the sun's rays, particularly if you plan on spending a considerable amount of time outdoors. Opt for a sunscreen with a high Sun Protection Factor (SPF).</li>
                                </ul>
                                <!-- Image: Toiletries -->
                                <figure class="my-5 text-center">
                                    <img class="img-fluid rounded w-75" src="../../assets/img/toiletries.jpg" alt="Travel-sized toiletries like shampoo, soap, toothbrush" />
                                    <figcaption class="mt-2 text-center text-muted small">Bring essential personal toiletries</figcaption>
                                </figure>

                                <!-- Section: Medications -->
                                <h2 class="fw-bolder mt-5 mb-3">Medications</h2>
                                <ul class="list-unstyled mb-4 fs-5">
                                    <li class="mb-3"><strong class="d-block mb-1">Over-the-Counter Medicines:</strong> Pack common over-the-counter medications such as painkillers (like ibuprofen or acetaminophen), anti-diarrheal medicine, antihistamines for allergies, and antacids for stomach upset. These can help manage common travel-related ailments.</li>
                                    <li><strong class="d-block mb-1">Prescription Medications:</strong> If you take any prescription medications, ensure you bring an adequate supply to last for the entire duration of your trip, along with a copy of your prescription. Keep the medications in their original packaging to avoid any potential issues at customs.</li>
                                </ul>

                                <!-- Section: Electronics -->
                                <h2 class="fw-bolder mt-5 mb-3">Electronics</h2>
                                <ul class="list-unstyled mb-4 fs-5">
                                    <li class="mb-3"><strong class="d-block mb-1">Mobile Phone and Charger:</strong> A mobile phone is invaluable for navigation, communication, and accessing various helpful apps. Remember to bring your charger and a portable power bank, as access to power outlets may not always be readily available.</li>
                                    <li class="mb-3"><strong class="d-block mb-1">Camera:</strong> Whether you prefer a professional DSLR or simply rely on your smartphone camera, bring a device to capture the stunning scenery, historical sites, and unique experiences China has to offer. If your camera uses removable batteries, pack spare batteries and a charger.</li>
                                    <li><strong class="d-block mb-1">Adapter and Converter:</strong> China primarily uses Type A and Type C electrical outlets. If your electronic devices have different plug types, bring a universal adapter. Additionally, if your devices are not dual-voltage (i.e., not compatible with China's 220-volt electrical system), you will also need a voltage converter to prevent damage.</li>
                                </ul>
                                <!-- Image: Adapter -->
                                <figure class="my-5 text-center">
                                    <img class="img-fluid rounded w-50" src="../../assets/img/adapter.jpg" alt="Universal travel adapter" />
                                    <figcaption class="mt-2 text-center text-muted small">A universal adapter is essential for charging devices</figcaption>
                                </figure>

                                <!-- Section: Other Necessities -->
                                <h2 class="fw-bolder mt-5 mb-3">Other Necessities</h2>
                                <ul class="list-unstyled mb-4 fs-5">
                                    <li class="mb-3"><strong class="d-block mb-1">Backpack or Daypack:</strong> A small backpack or daypack is incredibly useful for carrying essential items like your wallet, water bottle, camera, and a light jacket when you're out exploring during the day.</li>
                                    <li class="mb-3"><strong class="d-block mb-1">Water Bottle:</strong> Staying hydrated is crucial. Carry a reusable water bottle that you can refill at water dispensers commonly found in public places, hotels, and restaurants. This is both economical and environmentally friendly.</li>
                                    <li><strong class="d-block mb-1">Small Gifts:</strong> If you plan on visiting a Chinese family or anticipate interactions where a small token of appreciation might be appropriate, consider bringing some small, representative gifts from your home country. Items like keychains, postcards, or small candies are usually well-received.</li>
                                </ul>

                                <!-- Concluding Paragraph -->
                                <p class="fs-5 mt-5">By packing these essential items, you'll be well-equipped for a smooth and enjoyable trip to China. Remember to pack efficiently and leave some extra space in your luggage for any souvenirs you might acquire along the way!</p>

                            </article>
                        </div>

                        <!-- 将侧边栏样式 (bg-light p-3 rounded) 应用到列容器上 -->
                        <div class="col-lg-3 bg-light p-3 rounded"> <!-- 添加了 bg-light p-3 rounded -->
                            <div id="sidebar-placeholder">
                                <!-- sidebar.html 的内容将加载到这里 -->
                            </div>
                        </div>
                    </div>
                </div>
            </section>

        </main>

        <!-- 页脚占位符 -->
        <div id="footer-placeholder"></div>

        <!-- Bootstrap core JS (CDN link, no change needed) -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS (Correct relative path) -->
        <script src="../../js/scripts.js"></script>
        <!-- Components loader (Correct relative path) -->
        <script src="../../js/components.js"></script>
        <!-- Added script to load recent posts -->
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                // Define the URL of the current article to find its data
                const currentArticleUrlFilename = 'packing_checklist.html'; // <-- Updated filename

                fetch('../../data/blogs.json') // Fetch the JSON data
                    .then(response => {
                        if (!response.ok) {
                            throw new Error(`HTTP error! status: ${response.status}`);
                        }
                        return response.json();
                    })
                    .then(posts => {
                        // --- Populate Recent Posts (Existing Logic Refactored) ---
                        const recentPostsList = document.getElementById('recent-posts-list');
                        if (recentPostsList) {
                            const sortedPosts = [...posts].sort((a, b) => new Date(b.creationDate) - new Date(a.creationDate));
                            populatePostList(recentPostsList, sortedPosts.slice(0, 3));
                        }

                        // --- Populate You May Be Interested In (New Logic) ---
                        const interestedPostsList = document.getElementById('interested-posts-list');
                        if (interestedPostsList) {
                            const currentArticle = posts.find(post => post.url.endsWith(currentArticleUrlFilename)); // Find current article data

                            if (currentArticle && currentArticle.tags) {
                                const otherPosts = posts.filter(post => !post.url.endsWith(currentArticleUrlFilename)); // Exclude current article
                                const similarPosts = calculateSimilarity(currentArticle, otherPosts);

                                // Sort by similarity score (descending) and take top 3
                                similarPosts.sort((a, b) => b.similarity - a.similarity);
                                populatePostList(interestedPostsList, similarPosts.slice(0, 3));
                            } else {
                                // Handle case where current article or its tags aren't found
                                interestedPostsList.innerHTML = '<div class="p-3 text-warning small">Could not determine related posts.</div>';
                                if (!currentArticle) console.warn(`Could not find article data for URL: ${currentArticleUrlFilename}`);
                                if (currentArticle && !currentArticle.tags) console.warn(`Article "${currentArticle.title}" has no tags for comparison.`);
                            }
                        }
                    })
                    .catch(error => {
                        console.error('Error loading posts:', error);
                        // Display error in both lists if fetch fails
                        const recentPostsList = document.getElementById('recent-posts-list');
                        if (recentPostsList) recentPostsList.innerHTML = '<div class="p-3 text-danger small">Failed to load posts.</div>';
                        const interestedPostsList = document.getElementById('interested-posts-list');
                        if (interestedPostsList) interestedPostsList.innerHTML = '<div class="p-3 text-danger small">Failed to load posts.</div>';
                    });

                // Helper function to calculate similarity based on common tags
                function calculateSimilarity(currentArticle, otherPosts) {
                    const currentTags = new Set(currentArticle.tags);
                    return otherPosts.map(post => {
                        if (!post.tags) return { ...post, similarity: 0 }; // Handle posts without tags
                        const commonTags = post.tags.filter(tag => currentTags.has(tag));
                        return { ...post, similarity: commonTags.length }; // Add similarity score
                    }).filter(post => post.similarity > 0); // Optionally filter out posts with 0 similarity
                }

                // Helper function to populate a list container (Reused for both lists)
                function populatePostList(container, postsToDisplay) {
                    container.innerHTML = ''; // Clear loading/error message
                    if (!postsToDisplay || postsToDisplay.length === 0) {
                        container.innerHTML = '<div class="p-3 text-muted small">No relevant posts found.</div>';
                        return;
                    }
                    postsToDisplay.forEach(post => {
                        const urlParts = post.url.split('/');
                        const linkHref = urlParts[urlParts.length - 1]; // Use filename for link
                        // Ensure image path is relative to the current HTML file's location
                        const imageSrc = `../../${post.image.startsWith('../../') ? post.image.substring(6) : post.image}`;


                        const postElement = document.createElement('a');
                        postElement.href = linkHref;
                        postElement.className = 'list-group-item list-group-item-action p-3 d-flex align-items-start';
                        postElement.innerHTML = `
                            <div style="flex: 1 1 33.33%;" class="me-3"> <!-- Image container -->
                                <img src="${imageSrc}" alt="${post.title} Thumbnail" class="w-100" style="height: 60px; object-fit: cover;">
                            </div>
                            <div style="flex: 2 1 66.67%;"> <!-- Text container -->
                                <div class="fw-semibold small">${post.title}</div>
                                <div class="small text-muted">${post.creationDate}</div>
                            </div>
                        `;
                        container.appendChild(postElement);
                    });
                }
            });
        </script>
    </body>
</html>